<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Example Projects! &mdash; RPiSoC Python API 1.2.5 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.2.5',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="RPiSoC Python API 1.2.5 documentation" href="index.html" />
    <link rel="next" title="Revision History" href="revision_history.html" />
    <link rel="prev" title="analog.py" href="code_analog.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="revision_history.html" title="Revision History"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="code_analog.html" title="analog.py"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">RPiSoC Python API 1.2.5 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="example-projects">
<h1>Example Projects!<a class="headerlink" href="#example-projects" title="Permalink to this headline">¶</a></h1>
<p>Here are a few example projects to show just how easy the API is to use.</p>
<ul class="simple">
<li>Note: Px[y] means Port x, Pin y</li>
</ul>
<div class="section" id="blinky">
<h2>Blinky!<a class="headerlink" href="#blinky" title="Permalink to this headline">¶</a></h2>
<p>The &#8220;hello world&#8221; of physical computing. Just connect your RPiSoC and watch it go! Output is on the on-board LED</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">rpisoc</span> <span class="kn">import</span> <span class="o">*</span>
<span class="n">RPiSoC</span><span class="p">(</span><span class="s">&#39;SERIAL&#39;</span><span class="p">)</span>

<span class="hll"><span class="n">blinky</span> <span class="o">=</span> <span class="n">digitalPin</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="s">&#39;OUT&#39;</span><span class="p">)</span>
</span><span class="k">try</span><span class="p">:</span>
        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
<span class="hll">                <span class="n">blinky</span><span class="o">.</span><span class="n">Toggle</span><span class="p">()</span>
</span><span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
<span class="hll">        <span class="n">RPiSoC</span><span class="o">.</span><span class="n">commChannel</span><span class="o">.</span><span class="n">cleanup</span><span class="p">()</span>
</span></pre></div>
</td></tr></table></div>
</div>
<div class="section" id="voltmeter">
<h2>Voltmeter<a class="headerlink" href="#voltmeter" title="Permalink to this headline">¶</a></h2>
<p>This program demonstrates basic usage of <a class="reference internal" href="code_analog.html#analog.analogPin" title="analog.analogPin"><tt class="xref py py-class docutils literal"><span class="pre">analog.analogPin</span></tt></a></p>
<p>The program will output the voltage of whatever is connected to P3[0] every .1
seconds.</p>
<p>Note that P5[0], which is a 3.3V pin (slightly higher when powering with the Pi)
is initialized as HIGH, and so connecting to to P3[0] should show between 3.2
and 3.5V.</p>
<p>The Power supply on each port should read close to 5V as well.
You can confirm the accuracy with a Voltmeter.</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">rpisoc</span> <span class="kn">import</span> <span class="o">*</span>
<span class="n">RPiSoC</span><span class="p">(</span><span class="s">&#39;SERIAL&#39;</span><span class="p">)</span>

<span class="hll"><span class="n">voltmeter</span>  <span class="o">=</span> <span class="n">analogPin</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span class="hll"><span class="n">out_3v3</span> <span class="o">=</span> <span class="n">digitalPin</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="s">&#39;OUT&#39;</span><span class="p">)</span>
</span><span class="hll"><span class="n">out_3v3</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span>
<span class="k">try</span><span class="p">:</span>
        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
<span class="hll">                <span class="n">Voltage</span> <span class="o">=</span> <span class="n">voltmeter</span><span class="o">.</span><span class="n">ReadVolts</span><span class="p">()</span>
</span>                <span class="k">print</span><span class="p">(</span><span class="s">&#39;VOLTAGE:    </span><span class="si">%.3f</span><span class="s">&#39;</span> <span class="o">%</span><span class="n">Voltage</span><span class="p">)</span>
                <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="o">.</span><span class="mi">1</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
<span class="hll">        <span class="n">RPiSoC</span><span class="o">.</span><span class="n">commChannel</span><span class="o">.</span><span class="n">cleanup</span><span class="p">()</span>
</span></pre></div>
</td></tr></table></div>
</div>
<div class="section" id="theremin-using-pwm-and-ultrasonic-range-finding">
<h2>Theremin using PWM and Ultrasonic Range Finding<a class="headerlink" href="#theremin-using-pwm-and-ultrasonic-range-finding" title="Permalink to this headline">¶</a></h2>
<p>This will demonstrate some basic use of Ultrasonic Range Finding and tone generation with <a class="reference internal" href="code_digital.html#digital.rangeFinder" title="digital.rangeFinder"><tt class="xref py py-class docutils literal"><span class="pre">digital.rangeFinder</span></tt></a> and <a class="reference internal" href="code_digital.html#digital.PWM" title="digital.PWM"><tt class="xref py py-class docutils literal"><span class="pre">digital.PWM</span></tt></a></p>
<p>To set this program up, you will want to connect your Ultrasonic Range Finders echo Pin to P12[0], and it&#8217;s trigger pin to P12[1].
Also be sure to provide power and ground to the Range Finder from the RPiSoC.</p>
<p>Then, connect one end of a piezo buzzer to the RPiSoC&#8217;s ground, and the other end to P6[1]
Run this code on the platform of your choosing, and make some noise!</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">rpisoc</span> <span class="kn">import</span> <span class="o">*</span>
<span class="n">RPiSoC</span><span class="p">(</span><span class="s">&#39;SERIAL&#39;</span><span class="p">)</span>
<span class="k">try</span><span class="p">:</span>
<span class="hll">        <span class="n">ranger</span> <span class="o">=</span> <span class="n">rangeFinder</span><span class="p">([</span><span class="mi">12</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">12</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
</span><span class="hll">        <span class="n">piezo</span> <span class="o">=</span> <span class="n">PWM</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span class="hll">        <span class="n">piezo</span><span class="o">.</span><span class="n">Start</span><span class="p">()</span>
</span><span class="hll">        <span class="n">piezo</span><span class="o">.</span><span class="n">SetDutyCycle</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span> <span class="c">#Max volume</span>
</span>        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
<span class="hll">                <span class="n">piezo</span><span class="o">.</span><span class="n">SetFrequency</span><span class="p">(</span><span class="n">ranger</span><span class="o">.</span><span class="n">readRaw</span><span class="p">())</span>
</span><span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
<span class="hll">        <span class="n">RPiSoC</span><span class="o">.</span><span class="n">commChannel</span><span class="o">.</span><span class="n">cleanup</span><span class="p">()</span>
</span></pre></div>
</td></tr></table></div>
</div>
<div class="section" id="play-with-some-fruit">
<h2>Play with some fruit!<a class="headerlink" href="#play-with-some-fruit" title="Permalink to this headline">¶</a></h2>
<p>This one will be demonstrating use of the Capacitive Sensing libraries with <a class="reference internal" href="code_analog.html#analog.CapSense" title="analog.CapSense"><tt class="xref py py-class docutils literal"><span class="pre">analog.CapSense</span></tt></a></p>
<p>Simply connect any kind of fruit (or anything conductive at all) to P4[0], and watch the onboard LED.</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">rpisoc</span> <span class="kn">import</span> <span class="o">*</span>
<span class="n">RPiSoC</span><span class="p">(</span><span class="s">&#39;SERIAL&#39;</span><span class="p">)</span>

<span class="hll"><span class="n">touch</span> <span class="o">=</span> <span class="n">CapSense</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">THRESHOLD</span> <span class="o">=</span> <span class="mi">4</span><span class="p">)</span> <span class="c">#raise or lower the threshold depenging on results!</span>
</span><span class="hll"><span class="n">touch</span><span class="o">.</span><span class="n">Start</span><span class="p">()</span>
</span><span class="hll"><span class="n">output</span> <span class="o">=</span> <span class="n">digitalPin</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="s">&#39;OUT&#39;</span><span class="p">)</span>
</span><span class="k">try</span><span class="p">:</span>
        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
<span class="hll">                <span class="k">while</span> <span class="n">touch</span><span class="o">.</span><span class="n">isTouched</span><span class="p">():</span>
</span><span class="hll">                        <span class="n">output</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span class="hll">                <span class="n">output</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
<span class="hll">        <span class="n">RPiSoC</span><span class="o">.</span><span class="n">commChannel</span><span class="o">.</span><span class="n">cleanup</span><span class="p">()</span>
</span></pre></div>
</td></tr></table></div>
</div>
<div class="section" id="comprehensive-usage-of-digital-inputs-and-outputs">
<h2>Comprehensive usage of  digital inputs and outputs<a class="headerlink" href="#comprehensive-usage-of-digital-inputs-and-outputs" title="Permalink to this headline">¶</a></h2>
<p>This gives a little bit of a deeper look into the GPIO using <a class="reference internal" href="code_digital.html#digital.digitalPin" title="digital.digitalPin"><tt class="xref py py-class docutils literal"><span class="pre">digital.digitalPin</span></tt></a></p>
<p>To set this demo up, wire P12[0], P12[1], P5[0], and P5[1] to LEDs in series
with a resistor. Also wire the outputs to one of the initialized inputs, in the following way:
- wire P12[0] to P4[0]
- wire P12[1] to P4[1]
- wire P5[0] to P5[4]
- wire P5[1] to P5[5]</p>
<p>The demo should light the LEDS in forwards order, and then turn off the LEDs in
reverse order</p>
<p>The terminal will output the state of the inputs at each step, along with their port/pin number and they should
correlate with the LEDs (if wired in the way noted above). Check it out!</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</pre></div></td><td class="code"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">rpisoc</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="n">RPiSoC</span><span class="p">(</span><span class="s">&#39;SERIAL&#39;</span><span class="p">)</span>

<span class="hll"><span class="n">My_outputs</span> <span class="o">=</span> <span class="p">[</span><span class="n">digitalPin</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="s">&#39;OUT&#39;</span><span class="p">),</span> <span class="n">digitalPin</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="s">&#39;OUT&#39;</span><span class="p">),</span> <span class="n">digitalPin</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="s">&#39;OUT&#39;</span><span class="p">),</span> <span class="n">digitalPin</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="s">&#39;OUT&#39;</span><span class="p">)]</span>
</span><span class="hll"><span class="n">My_inputs</span> <span class="o">=</span> <span class="p">[</span><span class="n">digitalPin</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="s">&#39;IN&#39;</span><span class="p">),</span> <span class="n">digitalPin</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="s">&#39;IN&#39;</span><span class="p">),</span> <span class="n">digitalPin</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="s">&#39;IN&#39;</span><span class="p">),</span> <span class="n">digitalPin</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="s">&#39;IN&#39;</span><span class="p">)]</span>
</span>
<span class="k">try</span><span class="p">:</span>
        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">My_outputs</span><span class="p">:</span> <span class="c">#Writes each output high, one by one, in forwards order</span>
<span class="hll">                        <span class="n">i</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span>                        <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s">&#39;clear&#39;</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">inputs</span> <span class="ow">in</span> <span class="n">My_inputs</span><span class="p">:</span><span class="c">#Prints the state of each input</span>
<span class="hll">                                <span class="k">print</span> <span class="p">(</span><span class="s">&quot;P</span><span class="si">%d</span><span class="s">[</span><span class="si">%d</span><span class="s">]:</span><span class="si">%d</span><span class="s">&quot;</span> <span class="o">%</span><span class="p">(</span><span class="n">inputs</span><span class="o">.</span><span class="n">port</span><span class="p">,</span> <span class="n">inputs</span><span class="o">.</span><span class="n">pin</span><span class="p">,</span> <span class="n">inputs</span><span class="o">.</span><span class="n">Read</span><span class="p">()))</span>
</span>                        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="n">My_outputs</span><span class="p">):</span><span class="c">#Turns off the LEDs in reverse order</span>
<span class="hll">                        <span class="n">i</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span>                        <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s">&#39;clear&#39;</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">inputs</span> <span class="ow">in</span> <span class="n">My_inputs</span><span class="p">:</span> <span class="c">#Prints the state of each input</span>
<span class="hll">                                <span class="k">print</span> <span class="p">(</span><span class="s">&quot;P</span><span class="si">%d</span><span class="s">[</span><span class="si">%d</span><span class="s">]:</span><span class="si">%d</span><span class="s">&quot;</span> <span class="o">%</span><span class="p">(</span><span class="n">inputs</span><span class="o">.</span><span class="n">port</span><span class="p">,</span> <span class="n">inputs</span><span class="o">.</span><span class="n">pin</span><span class="p">,</span> <span class="n">inputs</span><span class="o">.</span><span class="n">Read</span><span class="p">()))</span>
</span>                        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
<span class="hll">        <span class="n">RPiSoC</span><span class="o">.</span><span class="n">commChannel</span><span class="o">.</span><span class="n">cleanup</span><span class="p">()</span>
</span></pre></div>
</td></tr></table></div>
</div>
<div class="section" id="function-generator">
<h2>Function Generator!<a class="headerlink" href="#function-generator" title="Permalink to this headline">¶</a></h2>
<p>This program demonstrates the use of <a class="reference internal" href="code_analog.html#analog.WaveDAC" title="analog.WaveDAC"><tt class="xref py py-class docutils literal"><span class="pre">analog.WaveDAC</span></tt></a></p>
<p>It will begin by initializing a WaveDAC object and generating it&#8217;s default wave, which happens to be a 4V 2.5kHz Sine wave, with no DC Bias. It will then wait for the user to choose to generate a new wave, and ask for
the configuration details.</p>
<p>Once it receives these values, it will stop the current wave, load the new configuration, and restart the wave to the users specifications!</p>
<p>To see the desired functionality, connect P0[0] to an Oscilliscope(or to another RPiSoC with the Oscilliscope program running!)</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre></div></td><td class="code"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">rpisoc</span> <span class="kn">import</span> <span class="o">*</span>
<span class="n">RPiSoC</span><span class="p">(</span><span class="s">&#39;SERIAL&#39;</span><span class="p">)</span>

<span class="hll"><span class="n">My_Wave</span> <span class="o">=</span> <span class="n">WaveDAC</span><span class="p">()</span>
</span><span class="hll"><span class="n">My_Wave</span><span class="o">.</span><span class="n">Start</span><span class="p">()</span> <span class="c">#Starts the default wave</span>
</span>
<span class="k">try</span><span class="p">:</span>
        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="s">&#39;My_Wave Frequency: &#39;</span><span class="p">,</span> <span class="n">My_Wave</span><span class="o">.</span><span class="n">GetFrequency</span><span class="p">())</span>
                <span class="n">w_type</span> <span class="o">=</span> <span class="nb">raw_input</span><span class="p">(</span><span class="s">&quot;Input Wave Type (SINE TRIANGLE SAWTOOTH or SQUARE) &quot;</span><span class="p">)</span>
                <span class="n">dcB</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="nb">raw_input</span><span class="p">(</span><span class="s">&#39;Input DC Bias in Volts (0-4)&#39;</span><span class="p">))</span>
                <span class="n">amp</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="nb">raw_input</span><span class="p">(</span><span class="s">&#39;Input amplitude in Volts (0-4) &#39;</span> <span class="p">))</span>
                <span class="n">freq</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">raw_input</span><span class="p">(</span><span class="s">&#39;Input Frequency in Hz (46 - 2500) &#39;</span><span class="p">))</span>

<span class="hll">                <span class="n">My_Wave</span><span class="o">.</span><span class="n">setAmplitude</span><span class="p">(</span><span class="n">amp</span><span class="p">)</span>
</span><span class="hll">                <span class="n">My_Wave</span><span class="o">.</span><span class="n">setdcBias</span><span class="p">(</span><span class="n">dcB</span><span class="p">)</span>
</span><span class="hll">                <span class="n">My_Wave</span><span class="o">.</span><span class="n">SetFrequency</span><span class="p">(</span><span class="n">freq</span><span class="p">)</span>
</span>
<span class="hll">                <span class="n">My_Wave</span><span class="o">.</span><span class="n">Stop</span><span class="p">()</span> <span class="c">#Stops waveform generator to prepare for loading a new one</span>
</span><span class="hll">                <span class="n">My_Wave</span><span class="o">.</span><span class="n">Generate_Wave</span><span class="p">(</span><span class="n">w_type</span><span class="p">)</span>
</span><span class="hll">                <span class="n">My_Wave</span><span class="o">.</span><span class="n">Start</span><span class="p">()</span> <span class="c">#Restarts the waveDAC with the new wave loaded</span>
</span>
<span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
<span class="hll">        <span class="n">RPiSoC</span><span class="o">.</span><span class="n">commChannel</span><span class="o">.</span><span class="n">cleanup</span><span class="p">()</span>
</span></pre></div>
</td></tr></table></div>
</div>
<div class="section" id="servo-controller">
<h2>Servo Controller<a class="headerlink" href="#servo-controller" title="Permalink to this headline">¶</a></h2>
<p>This is to show some stuff you can do with <a class="reference internal" href="code_digital.html#digital.Servo" title="digital.Servo"><tt class="xref py py-class docutils literal"><span class="pre">digital.Servo</span></tt></a></p>
<p>This will use voltage readings from a joystick (or potentiometers), to move two servomotors, possibly connected to a pan-tilt bracket like the one for our face tracker</p>
<p>To make this work, connect your servomotor signal wires to P6[1] and P6[2]
Then connect the analog outputs of your joystick (or potentiometers) to P3[0] and P3[1]</p>
<p>Also, make sure your joystick or potentiometer are powered by the RPiSoC, and your servomotors are powered externally, but share a ground connection with the RPiSoC.</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">rpisoc</span> <span class="kn">import</span> <span class="o">*</span>
<span class="n">RPiSoC</span><span class="p">(</span><span class="s">&#39;SERIAL&#39;</span><span class="p">)</span>

<span class="c">#normally max_angle is 180, but you can change the scale to be whatever is best for the project</span>
<span class="hll"><span class="n">Pan</span> <span class="o">=</span> <span class="n">Servo</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">max_angle</span> <span class="o">=</span> <span class="mi">5</span><span class="p">)</span>   <span class="c"># I chose 5 because the joysticks can output up to 5 Volts</span>
</span><span class="hll"><span class="n">Tilt</span> <span class="o">=</span> <span class="n">Servo</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">max_angle</span> <span class="o">=</span> <span class="mi">5</span><span class="p">)</span>  <span class="c"># This means that when I get the max volts (5), the servo will be in max position</span>
</span>
<span class="hll"><span class="n">x_axis</span> <span class="o">=</span> <span class="n">analogPin</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span class="hll"><span class="n">y_axis</span> <span class="o">=</span> <span class="n">analogPin</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span>
<span class="k">try</span><span class="p">:</span>
        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
<span class="hll">                <span class="n">Pan</span><span class="o">.</span><span class="n">SetAngle</span><span class="p">(</span><span class="n">x_axis</span><span class="o">.</span><span class="n">ReadVolts</span><span class="p">())</span> <span class="c">#set each servo position to the voltage reading</span>
</span><span class="hll">                <span class="n">Tilt</span><span class="o">.</span><span class="n">SetAngle</span><span class="p">(</span><span class="n">y_axis</span><span class="o">.</span><span class="n">ReadVolts</span><span class="p">())</span>
</span><span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
<span class="hll">        <span class="n">RPiSoC</span><span class="o">.</span><span class="n">commChannel</span><span class="o">.</span><span class="n">cleanup</span><span class="p">()</span>
</span></pre></div>
</td></tr></table></div>
</div>
<div class="section" id="neopixels">
<h2>NeoPixels<a class="headerlink" href="#neopixels" title="Permalink to this headline">¶</a></h2>
<p>This is just a quick example of some fun with <a class="reference internal" href="code_digital.html#digital.NeoPixelShield" title="digital.NeoPixelShield"><tt class="xref py py-class docutils literal"><span class="pre">digital.NeoPixelShield</span></tt></a>
Simply connect your NeoPixel Shield to the Arduino headers of your RPiSoC, and you&#8217;re ready to go!</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div></td><td class="code"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">rpisoc</span> <span class="kn">import</span> <span class="o">*</span>
<span class="n">RPiSoC</span><span class="p">(</span><span class="s">&#39;SERIAL&#39;</span><span class="p">,</span> <span class="n">DEBUG</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>

<span class="k">try</span><span class="p">:</span>
<span class="hll">        <span class="n">pixels</span> <span class="o">=</span> <span class="n">NeoPixelShield</span><span class="p">()</span>
</span><span class="hll">        <span class="n">pixels</span><span class="o">.</span><span class="n">Start</span><span class="p">()</span>
</span><span class="hll">        <span class="n">pixels</span><span class="o">.</span><span class="n">Dim</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span class="hll">        <span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="n">pixels</span><span class="o">.</span><span class="n">Green</span><span class="p">,</span> <span class="n">pixels</span><span class="o">.</span><span class="n">Yellow</span><span class="p">,</span> <span class="n">pixels</span><span class="o">.</span><span class="n">Orange</span><span class="p">,</span> <span class="n">pixels</span><span class="o">.</span><span class="n">Red</span><span class="p">,</span> <span class="n">pixels</span><span class="o">.</span><span class="n">Purple</span><span class="p">,</span> <span class="n">pixels</span><span class="o">.</span><span class="n">Blue</span><span class="p">,</span> <span class="n">pixels</span><span class="o">.</span><span class="n">PowderBlue</span><span class="p">,</span> <span class="n">pixels</span><span class="o">.</span><span class="n">White</span><span class="p">]</span>
</span>        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">):</span>
                        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
<span class="hll">                                <span class="n">pixels</span><span class="o">.</span><span class="n">SetPixel</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="n">column</span><span class="p">,</span> <span class="n">colors</span><span class="p">[</span><span class="n">column</span><span class="p">])</span>
</span>                        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.01</span><span class="p">)</span> <span class="c">#so you can see the animation happening</span>

                <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.25</span><span class="p">)</span>

                <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">8</span><span class="p">)):</span>
                        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
<span class="hll">                                <span class="n">pixels</span><span class="o">.</span><span class="n">SetPixel</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="n">column</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span>                        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.01</span><span class="p">)</span> <span class="c">#so you can see the animation happening</span>

<span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
        <span class="n">RPiSoC</span><span class="o">.</span><span class="n">commChannel</span><span class="o">.</span><span class="n">cleanup</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
<p><em>Code author: Brian Bradley &lt;<a class="reference external" href="mailto:embedit&#37;&#52;&#48;embeditelectronics&#46;com">embedit<span>&#64;</span>embeditelectronics<span>&#46;</span>com</a>&gt;</em></p>
<p><em>Section author: Brian Bradley &lt;<a class="reference external" href="mailto:embedit&#37;&#52;&#48;embeditelectronics&#46;com">embedit<span>&#64;</span>embeditelectronics<span>&#46;</span>com</a>&gt;</em></p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/Embedit_flat.png" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Example Projects!</a><ul>
<li><a class="reference internal" href="#blinky">Blinky!</a></li>
<li><a class="reference internal" href="#voltmeter">Voltmeter</a></li>
<li><a class="reference internal" href="#theremin-using-pwm-and-ultrasonic-range-finding">Theremin using PWM and Ultrasonic Range Finding</a></li>
<li><a class="reference internal" href="#play-with-some-fruit">Play with some fruit!</a></li>
<li><a class="reference internal" href="#comprehensive-usage-of-digital-inputs-and-outputs">Comprehensive usage of  digital inputs and outputs</a></li>
<li><a class="reference internal" href="#function-generator">Function Generator!</a></li>
<li><a class="reference internal" href="#servo-controller">Servo Controller</a></li>
<li><a class="reference internal" href="#neopixels">NeoPixels</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="code_analog.html"
                        title="previous chapter">analog.py</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="revision_history.html"
                        title="next chapter">Revision History</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/examples.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="revision_history.html" title="Revision History"
             >next</a> |</li>
        <li class="right" >
          <a href="code_analog.html" title="analog.py"
             >previous</a> |</li>
        <li><a href="index.html">RPiSoC Python API 1.2.5 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2015, EmbeditElectronics.
      Last updated on Jan 22, 2015.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>